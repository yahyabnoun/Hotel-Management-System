

{% extends "base/base.html" %}
{% load static %}
{% block content %}

    <div class="container mt-5">
        <div class="row">
            <div class="col-md-8">

                <div class="row">
                    {% for hotel_gallery in hotel.hotel_gallery.all %}
                        {% if forloop.first %}
                            <!-- First image, larger -->
                            <div class="col-12 mb-2">
                                <img src="{{hotel_gallery.image.url}}" alt="Hotel Image 1" class="img-fluid hotel-image-main w-100 rounded-3" style="height:400px;">
                            </div>
                        {% else %}
                            <!-- Second, third, and fourth images, smaller -->
                            <div class="col-4 mb-2">
                                <img src="{{hotel_gallery.image.url}}" alt="Hotel Image Small" class="img-fluid hotel-image-small w-100 rounded-3" style="height:200px;">
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>

                <h1 class="mt-4">{{hotel.name}}</h1>
                <div class='d-flex'>

                    <p class="text-muted me-2">
                        <svg style="width: 25px;" fill="#000000" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M49,18.92A23.74,23.74,0,0,0,25.27,42.77c0,16.48,17,31.59,22.23,35.59a2.45,2.45,0,0,0,3.12,0c5.24-4.12,22.1-19.11,22.1-35.59A23.74,23.74,0,0,0,49,18.92Zm0,33.71a10,10,0,1,1,10-10A10,10,0,0,1,49,52.63Z"></path></g></svg>
                        {{hotel.address}}
                    </p>
                    <p class="text-muted ">
                        <svg style="width: 25px;" fill="#000000"  version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M26.5,3.1c-0.8-0.8-1.9-1.2-2.9-1c-0.9,0.1-1.8,0.7-2.6,1.5c-1.8,1.8-2,4-0.5,5.6c0.1,0.1,0.1,0.1,0.2,0.2 c-0.4,0.5-0.9,0.9-1.4,1.4c-0.1-0.1-0.1-0.1-0.2-0.2c0,0,0,0,0,0C17.6,9,15.4,9.2,13.6,11c-1.8,1.8-2,4-0.5,5.6 c0.9,0.9,2.2,1.4,3.6,1.4c1,0,2-0.3,2.8-0.8c2.9-1.9,5.7-4.8,7.7-7.7C28.4,7.6,28.1,4.7,26.5,3.1z"></path> <path d="M21,19c-0.6,0-1,0.4-1,1v2H8V5c0-0.6,0.4-1,1-1h9c0.6,0,1-0.4,1-1s-0.4-1-1-1H9C7.3,2,6,3.3,6,5v22c0,1.7,1.3,3,3,3h10 c1.7,0,3-1.3,3-3v-7C22,19.4,21.6,19,21,19z M15,27h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S15.6,27,15,27z"></path> </g></svg>
                        {{hotel.mobile}}
                    </p>

                </div>




                <p class="text-muted">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 5-Star Hotel</p>
                <p>{{hotel.description|safe}}</p>
                
                <h2 class="mt-4">Amenities</h2>
                <div class="row">
                    <div class="col-md-6">
                        <p><span class="amenity-icon">üèä</span> Swimming Pool</p>
                        <p><span class="amenity-icon">üçΩÔ∏è</span> Restaurant</p>
                        <p><span class="amenity-icon">üÖøÔ∏è</span> Free Parking</p>
                    </div>
                    <div class="col-md-6">
                        <p><span class="amenity-icon">üíª</span> Free Wi-Fi</p>
                        <p><span class="amenity-icon">üèãÔ∏è</span> Fitness Center</p>
                        <p><span class="amenity-icon">üßñ</span> Spa</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">MAD1,598</h3>
                        <p class="card-text text-muted">Total before taxes</p>
                        <form method="post" action="{% url 'booking:check_room_availability' %}">
                            {% csrf_token %}
                            <input type="hidden" name="hotel-id" class="form-control" value="{{hotel.id}}">

                            <div class="row mb-3">
                                <div class="col-6">
                                    <label for="checkin" class="form-label">CHECK-IN</label>
                                    <input type="date" name="checkin" class="form-control" id="checkin" value="">
                                </div>
                                <div class="col-6">
                                    <label for="checkout" class="form-label">CHECKOUT</label>
                                    <input type="date" name="checkout" class="form-control" id="checkout" value="">
                                </div>
                            </div>



                            <div class="row mb-3">
                                <div class="col-6">
                                    <label for="adult" class="form-label">adult</label>
                                    <input type="number" name="adult" class="form-control" id="adult" value="1">
                                </div>
                                <div class="col-6">
                                    <label for="children" class="form-label">children</label>
                                    <input type="number" name="children" class="form-control" id="children" value="0">
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="room_type" class="form-label">Room Type</label>
                                <select class="form-select" name="room_type" id="room_type">
                                    {% for hotel_type in hotel.hotel_rocm_types%}
                                        <option value="{{hotel_type.slug}}">{{hotel_type.type}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">Reserve</button>
                        </form>
                        <p class="text-center mt-2">You won't be charged yet</p>
                    </div>
                </div>
                <h3 class="card-title mt-5">Pricing</h3>
                <div class="card" style="width: 100%;">
                    <div class="card-header bg-primary text-white">
                      Select Pass
                    </div>
                    <ul class="list-group list-group-flush">
                        {% for hotel_type in hotel.hotel_rocm_types%}
                            <li class="list-group-item d-flex justify-content-between align-items-center">  <span class="d-flex flex-column">  {{hotel_type.type}} <span class=" "> Room capacity : {{hotel_type.room_capacity}}</span><span class=" "> Number of Beds : {{hotel_type.number_of_beds}}</span> </span> <span class="badge bg-primary rounded-3">${{hotel_type.price}} 

                            </span>
                            <!-- <a class="btn btn-primary rounded-3 py-2 px-4 text-white" href="{% url 'hotel:room_type_detail' hotel_type.hotel.slug hotel_type.slug %}">Reserve</a> -->
                        </li>
                        {% endfor %}
                    </ul>
                  </div>



            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const checkoutInput = document.getElementById("checkout");
                const checkintInput = document.getElementById("checkin");
                
                // Get today's date in YYYY-MM-DD format
                const today = new Date();
                const dd = String(today.getDate()).padStart(2, '0');
                const mm = String(today.getMonth() + 1).padStart(2, '0'); // January is 0!
                const yyyy = today.getFullYear();
                
                const formattedDate = `${yyyy}-${mm}-${dd}`;
                
                // Set the default value
                checkoutInput.value = formattedDate;
                checkintInput.value = formattedDate;
            });
            
        </script>
    </div>


{% endblock %}